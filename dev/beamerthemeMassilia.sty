% Copyright 2020 by Rodrigo SCHWENCKE
%
% This file may be distributed and/or modified
%
% 1. under the LaTeX Project Public License and/or
% 2. under the GNU Public License.
%
% See the file doc/licenses/LICENSE for more details.

\mode<presentation>

% Requirement
\RequirePackage{tikz}
\usepackage{url}
\usepackage{multicol}       % ATTENTION : PAS de 's', PAS 'multicols'
\usepackage{amsthm}
% \usepackage{setspace}

% \usetheme[width=0.12\paperwidth]{Berkeley}
\usetheme{Darmstadt}
\useoutertheme[subsection=true]{miniframes}
\useinnertheme[shadow=true]{rounded}
\usecolortheme{orchid}
\usecolortheme{whale}

\title{Introduction à Python}
\author{Rodrigo SCHWENCKE}
% \thanks{OpenClassrooms}
% \usesubtitle{1ère NSI}
\def\institute{Lycée PÉRIER of Marseille}
\date{\today}

\logo{\includegraphics[height=1.5cm]{img/chouette.png}}
%\titlegraphic{\includegraphics[height=1.5cm]{/home/luke/Images/AdminNSI.png}}

% Bleu Marine
\definecolor{bleuMarine}{HTML}{000D55}
% Bleu Moyen
\definecolor{bleuMoyen}{HTML}{001789}
% Bleu Clair
\definecolor{bleuClair}{HTML}{0021CA}
% Bleu Très Clair
\definecolor{bleuTresClair}{HTML}{002AFF}
% Orange Block Title
\definecolor{orangeLight}{HTML}{ffcc68}
\definecolor{orangeBlockTitle}{HTML}{FFA900}
% code Source Light Background
\definecolor{codeSourceLightBackground}{HTML}{e5e6ec}

% change color palettes:
\setbeamercolor{structure}{fg=bleuClair!100}
\setbeamercolor{palette sidebar secondary}{bg=orangeBlockTitle!100}
\setbeamercolor{section in sidebar shaded}{bg=bleuMoyen!100}
\setbeamercolor{subsection in sidebar shaded}{bg=orangeLight!100}

% HEADLINE TEMPLATE
\setbeamercolor{section in head/foot}{bg = bleuMarine!100}
\setbeamercolor{subsection in head/foot}{bg = bleuMoyen!100}
\setbeamercolor{frametitle}{bg = bleuClair!100}
% \setbeamerfont{frametitle}{size=\small}

% % SIDEBAR TEMPLATE. SHOW OR HIDE SIDEBAR
% % \def\swidth{0.3\paperwidth}
% \useoutertheme[width left]{sidebar}
% \usebeamercolor[bg]{title in sidebar}
% \renewcommand{\baselinestretch}{0.9}
% \setbeamercolor{frametitle}{bg = bleuMoyen!100}

% % TO GET RID OF TITLE AND AUTHOR IN THE SIDEBAR
% \makeatletter
%   \setbeamertemplate{sidebar \beamer@sidebarside}%{sidebar theme}
%   {
%     \beamer@tempdim=\beamer@sidebarwidth%
%     \advance\beamer@tempdim by -6pt%
%     \insertverticalnavigation{\beamer@sidebarwidth}%
%     \vfill
%     \ifx\beamer@sidebarside\beamer@lefttext%
%     \else%
%       \usebeamercolor{normal text}%
%       \llap{\usebeamertemplate***{navigation symbols}\hskip0.1cm}%
%       %\vskip20pt%
%     \fi%
% }%
% \makeatother

%TABLE OF CONTENTS (TOC) - AUTONUMBERING FORMAT
\setbeamercolor{section in toc}{fg=bleuMarine!100}
\setbeamercolor{subsection in toc}{fg=bleuMarine!100}
% \setbeamerfont{section in toc}{size=\small}
% \setbeamerfont{subsection in toc}{size=\small}
\defbeamertemplate*{section in toc}{sections numbered roman}{%
  \leavevmode%
  \MakeUppercase{\romannumeral\inserttocsectionnumber}.\ %
  \inserttocsection\par\vskip-0.7em%
}

\setbeamertemplate{section in toc}[sections numbered roman]
%\makeatletter
\setbeamertemplate{subsection in toc}{\leavevmode\small\usebeamerfont{subsection in toc}\leftskip=2.4em\usebeamerfont{subsection in toc}\rlap{\hskip-1.2em\inserttocsubsectionnumber. }\inserttocsubsection\par\vskip-0.7em}

%TABLE OF CONTENTS - TOC - Sommaire
\AtBeginSection[]
{
\begin{frame}<beamer>{LE PLAN/ OU TITRE DE LA LEçON}
\tableofcontents[currentsection,currentsubsection, 
    hideothersubsections, 
    sectionstyle=show/shaded,
]
\end{frame}
}

%FOOTNOTES
\setbeameroption{show notes}
\setbeamertemplate{note page}[]

% MATHS
% \usepackage{amsthm}
\setbeamertemplate{theorems}[numbered]
\newtheorem{defi}{Définition}[]
\newtheorem{thm}{Théorème}[]
\newtheorem{prop}{Proposition}[]
\newtheorem{pte}{Propriété}[]
\newtheorem{cons}{Conséquence}[]
\newtheorem{idee}{Idée}[]
\newtheorem{rem}{Remarque}[]

% BLOCKS
%pour customiser le title et/ou le body des block système Beamer: normal, ou 'alerted', ou 'example'
%\setbeamercolor{block title alerted}{fg=black!90,bg=brown!60!yellow}
%\setbeamercolor{block body alerted}{fg=black!90,bg=brown!60!yellow}
\setbeamerfont{block title}{size={}}
\setbeamercolor{block title}{bg=bleuClair!100}
\setbeamercolor{block body}{bg=codeSourceLightBackground!60!codeSourceLightBackground}
\definecolor{lightCodeBackground}{HTML}{F5F2F0}
\definecolor{languageTitle}{HTML}{3593FF}

% \addtobeamertemplate{block begin}{
%         \setlength{\textwidth}{0.9\textwidth}%
%         \linespread{0.5}%
% }

% FOR BLOCK HORIZONTAL RESIZING
\def\myblockfactor{0.4}
\newlength\myblockwd
\newlength\myleftlen

\makeatletter
\setbeamertemplate{block begin}{
  \setlength\myblockwd{\myblockfactor\textwidth}  % 40% of the textwidth
  \setlength\myleftlen{\dimexpr(\myblockwd-\textwidth)/2\relax}
  \par\vskip\medskipamount%
  \hspace*{-1\myleftlen}\begin{beamerboxesrounded}[upper=block title,lower=block body,shadow=true,width=\myblockwd]%
    {\raggedright\usebeamerfont*{block title}\insertblocktitle}%
    \raggedright%
    \usebeamerfont{block body}%
}

\defbeamertemplate{block end}{}
{\end{beamerboxesrounded}\vskip\smallskipamount}
\makeatother

\addtobeamertemplate{block begin}{
  \linespread{0.5}%
}

%CUSTOMIZE ENUMERATE SYMBOLS
%replace circle by: default, circle, square, ou ball IF option numerostyle is NOT used
%pour les items de 1er niveau:
%\setbeamertemplate{enumerate item}[circle]
%pour les items de 2ème niveau:
%\setbeamertemplate{enumerate subitem}[circle]

%ADD PAGE AUTO NUMBERING TO NAVIGATION SYMBOLS : (Bottom Right)
\addtobeamertemplate{navigation symbols}{}{ 
  \usebeamerfont{footline}\usebeamercolor[bg]{title}%
  \hspace{1.5em}Page \insertframenumber / \inserttotalframenumber
}

\newenvironment<>{lightCode}[1]{%
  \begin{actionenv}#2%
      \def\insertblocktitle{#1}%
      \par%
      \mode<presentation>{%
       \setbeamercolor{block title}{fg=white,bg=languageTitle!100}
     }%
      \usebeamertemplate{block begin}}
    {\par\usebeamertemplate{block end}
  \end{actionenv}}

\mode
<all>